# Part1-2 作业

( 请在当前文件直接作答 )

## 简答题

### 1. 请说出下列最终执行结果，并解释为什么?

```javascript
var a = [];
for(var i = 0; i < 10; i++) {
  a[i] = function() {
    console.log(i)
  }
}
a[6]()
```
执行结果：10
原因：var没有块级作用域，i变量绑定在全局，a[6]对应方法执行时打印全局变量i，此时i变量已变为10
　

　

### 2. 请说出此案列最终执行结果，并解释为什么?

```javascript
var tmp = 123;
if (true) {
  console.log(tmp);
  let tmp;
}
```
执行结果：Uncaught ReferenceError: Cannot access 'tmp' before initialization
原因：在块级作用域中，提前访问tmp会指向let tmp定义的变量,而let定义的变量不会提升
　

　

### 3. 结合ES6语法，用最简单的方式找出数组中的最小值

```javascript
var arr = [12, 34, 32, 89, 4]
```
arr.sort((a, b) => a - b)[0]
　


### 4. 请详细说明var、let、const三种声明变量的方式之间的具体差别

 var：有全局作用域和函数作用域

 let：比var多了块级作用域，定义的变量不会提升，同一个环境下，声明变量名不能相同

 const: 常量定义不能更改，且声明是必须定义变量，和let一样有块级作用域，声明变量名不能相同，不能更改指的是const定义的变量指向不能更改，如果用const定义一个对象，同时可以更改此对象的属性

　

### 5. 请说出下列代码最终输出结果，并解释为什么？

```javascript
var a = 10;
var obj = {
  a: 20,
  fn() {
    setTimeout(() => {
      console.log(this.a)
    })
  }
}
obj.fn()
```
执行结果：20
原因：obj.fn 函数执行，产生this，同时定义了箭头函数，箭头函数继承this，指向obj对象
　

　

### 6. 简述Symbol类型的用途
作用：产生一个全局唯一的变量
用途：1、适合多人开发时定义变量
     2、生成私有属性
　

　

### 7. 说说什么是浅拷贝，什么是深拷贝？
浅拷贝：只复制指向，当复制对象时，原对象改变时，复制的对象也会改变
深拷贝：复制值，复制对象时，会产生一个新得指向，修改原对象时，不会对新对象产生影响
　

　

### 8. 请简述TypeScript与JavaScript之间的关系？
TypeScript是JavaScript的扩展，添加了很多JavaScript没有的功能
　

　

### 9. 请谈谈你所认为的typescript优缺点
优点：1、更严格的类型判定，便于代码的开发与维护
     2、强大的语法检查功能，便于代码的后期重构与维护
     3、渐进式，使JS代码可以一步步转换成TS代码，而不影响旧代码的维护和使用
缺点：比JS复杂，开发时间更长
　

　

### 10. 描述引用计数的工作原理和优缺点
工作原理：计算引用数，引用数为0时，垃圾回收
优点：发现垃圾立即回收，最大限度减少程序暂停
缺点：不能回收循环引用对象，资源消耗大，时间消耗长
　

　

### 11. 描述标记整理算法的工作流程
遍历所有对象，标记所有可达对象
整理可达对象，移动对象内存位置，使之连续
遍历所有对象，清除不可达对象(同时抹掉所有标记)

　

　

### 12.描述V8中新生代存储区垃圾回收的流程
V8新生代采用空间复制 + 标记整理算法
新生代存储区域分为两大等块，From（使用空间）和To（空闲空间）
垃圾回收时，先将From中的所有对象进行标记整理，
然后将From中的可达对象拷贝至To空间中，
拷贝完成后，交换From和To空间，并将From空间清空，完成空间释放

新生代垃圾回收时，可能会触发晋升，将新生代中的对象移至老生代对象中，
触发条件：1、一轮GC还存活的对象
        2、使用空间超过25%时，此时没有足够空间存放新的对象，将所有对象移至老生代空间
　

### 13. 描述增量标记算法在何时使用及工作原理
老生代空间垃圾回收时，可能会触发标记整理算法，
老生代空间主要采用标记清除算法，当发生晋升，且老生代空间内存不足时，发生标记整理算法，由于垃圾回收工作时会阻塞JavaScript执行，采用标记增量优化标记整理算法
标记增量即执行一段JavaScript代码，再执行一部分标记增量，一段过程后，执行垃圾回收，完成清除，减少代码卡顿，提升用户体验
　